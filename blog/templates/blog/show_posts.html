{% extends "home/base.html" %}
{% block page_title %}
    View Posts
{% endblock %}
{% block content %}
    <style>
        .post-div{
            margin-bottom: 20px;
            padding: 20px;
            border-style: solid;
            border-width: 1px;
            border-color: #d6d6d6;
            border-radius: 5px;
            background-color: #45596d;
            color: white;
            /*background: linear-gradient(#77fc53, #6cfc53, #66fc53, #53fc58, #53fc80, #53fca1);*/
        }
        .edit-span{
            float: right;
            margin-right: 10px;
        }
        .delete-span{
            float: right;
        }
    </style>
    <div class="row">
        <div class="col-sm-3"></div>
        <div class="col-sm-6 post-div">
            <span class="header-span" style="font-size: 2em;">List of all the posts!</span>
            <span align="right" style="float: right">
                <a class="btn btn-success" href="/blog/create">Create Post</a>
            </span>
        </div>
        <div class="col-sm-3">
        </div>
    </div>
    {% for post in object_list %}
        <div class="row">
            <div class="col-sm-3"></div>
            <div id="post-list" class="post-div col-sm-6">
                <div class="title-bar">
                    {{ post.date|date:"d/m/Y" }}<br>
                    <span class="id-span">{{ post.id }}</span>:&nbsp;
                    <span class="title-span"> <a href="/blog/{{ post.id }}">{{ post.title }}</a> </span>
                    <span class="delete-span" id="{{ post.id }}"> <a href="#" class="btn btn-danger"><span class="glyphicon glyphicon-trash"></span>&nbsp;Delete Post</a> </span>
                    <span class="edit-span"> <a href="/blog/edit/{{ post.id }}" class="btn btn-warning"><span class="glyphicon glyphicon-pencil"></span>&nbsp;Edit Post</a> </span>
                </div>
                    <hr>
                <div class="content-markdown">
                    {{ post.body|truncatechars:20000 }}
                </div>
                    <hr>
                    (Last edit: {{ post.last_edit_date|date:"d/m/Y" }})
            </div>
            <div class="col-sm-3"></div>
        </div>
    {% endfor %}
{% endblock %}

{% block javascript %}
    {% load staticfiles %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.6/marked.min.js" type="text/javascript"></script>
    <script src="{% static 'js/blog_script.js' %}" type="text/javascript"></script>
{% endblock %}
<!--    <a href="http://data.typeracer.com/pit/profile?user=lavee_singh&ref=badge" target="_top"><img src="http://data.typeracer.com/misc/badge?user=lavee_singh" border="0" alt="TypeRacer.com scorecard for user lavee_singh"/></a> -->